function resetCards(){document.querySelectorAll(".card.active").forEach(e=>{e.classList.remove("active")}),updateResetButtonVisibility()}function updateResetButtonVisibility(){const e=document.querySelector(".card.active");resetCardsButton.style.display=e?"block":"none"}function swapOrder(){const e=document.querySelectorAll('div[class^="expedition-"]');isSwapped=!isSwapped,e.forEach(e=>{const t={"expedition-purple":1,"expedition-red":2,"expedition-green":3,"expedition-blue":4,"expedition-grey":5,"expedition-gold":6},o=7-t[e.className];e.style.order=isSwapped?o.toString():t[e.className].toString()})}function calculateScores(){const e=Array.from(document.querySelectorAll('div[class^="expedition-"]'));e.sort((e,t)=>parseInt(getComputedStyle(e).order)-parseInt(getComputedStyle(t).order));const t=e.map(e=>e.className.split("-")[1]);let o=0,n="";t.forEach(e=>{const t=document.querySelectorAll(`.expedition-${e} .card.expedition-card.active`),s=document.querySelectorAll(`.expedition-${e} .card.wager.active`);let c=0,d=0;t.forEach(e=>{c+=parseInt(e.getAttribute("value"))}),(t.length>0||s.length>0)&&(c-=20),s.length>0&&(c*=s.length+1),t.length+s.length>=8&&(d=20);let l=c+d;o+=l,n+=`<div class='color-score-column ${e}-column'>`,n+=`<div class='exp-icon'><img src='Images/${e}-expedition.png' /></div>`,n+=`<div class='color-score-total'>${c}</div>`,d>0&&(n+="<div class='color-score-bonus-title'>Bonus</div>",n+=`<div class='color-score-bonus-total'>${d}</div>`),n+="</div>"});let s="<div class='overall-total-score'>";s+="<strong>Total Score</strong>",s+=`<div class='final-score'>${o}</div>`,s+="</div>",s+=`<div class='scores-columns'>${n}</div>`,document.getElementById("score-display").innerHTML=s}function showModal(){var e=document.getElementById("scoreModal");e.style.display="block"}function hideModal(){var e=document.getElementById("scoreModal");e.style.display="none"}function updateResetButtonVisibility(){const e=document.querySelector(".card.active");resetCardsButton.style.display=e?"block":"none"}window.onload=function(){var e=document.getElementById("loadingDiv");e.style.visibility="hidden"},document.addEventListener("keydown",function(e){"r"===e.key||"R"===e.key?resetCards():"Enter"===e.key&&(calculateScores(),showModal())});var resetCardsButton=document.getElementById("resetCards");resetCardsButton.addEventListener("click",function(){resetCards(),updateResetButtonVisibility()}),document.querySelectorAll(".card").forEach(e=>{e.addEventListener("click",function(){this.classList.toggle("active"),this.classList.contains("active")?this.style.setProperty("--rotate-y","180deg"):this.style.setProperty("--rotate-y","0deg"),updateResetButtonVisibility()})}),resetCardsButton.style.display="none";let isSwapped=!1;document.getElementById("swapOrder").addEventListener("click",swapOrder),document.getElementById("calculate-button").addEventListener("click",function(){calculateScores(),showModal()});var modal=document.getElementById("scoreModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){hideModal()},window.onclick=function(e){var t=document.getElementById("scoreModal"),o=document.getElementById("contactModal"),n=t.querySelector(".modal-content");e.target!=t||n.contains(e.target)||hideModal("scoreModal");var s=o.querySelector(".modal-content");e.target!==o||s.contains(e.target)||(o.style.display="none")};resetCardsButton=document.getElementById("resetCards");resetCardsButton.addEventListener("click",function(){resetCards()}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("contactModal"),t=document.getElementById("contact-link"),o=document.getElementsByClassName("contact-close")[0];t.onclick=function(t){t.preventDefault(),e.style.display="block"},o.onclick=function(){e.style.display="none"}}),resetCardsButton.style.display="none",resetCardsButton.addEventListener("click",function(){resetCards(),updateResetButtonVisibility()});